!function(e){"function"==typeof define&&define.amd?module.exports=function(t,r){return void 0===r&&(r="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(r),r}:e(jQuery)}(function(e){"use strict";e.extend(e.FroalaEditor.DEFAULTS,{entities:"&amp;&lt;&gt;&quot;&apos;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),e.FroalaEditor.PLUGINS.entities=function(t){function r(e){if(e.nodeType==Node.COMMENT_NODE)return"<!--"+e.nodeValue+"-->";if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if("IFRAME"==e.tagName)return e.outerHTML;var a=e.childNodes;if(0===a.length&&(t.opts.fullPage||"BODY"!=e.tagName))return e.outerHTML;for(var i="",l=0;l<a.length;l++)if(a[l].nodeType==Node.TEXT_NODE){var u=a[l].textContent;if(u.match(n)){for(var c="",s=0;s<u.length;s++)c+=o[u[s]]?o[u[s]]:u[s];i+=c.replace(/\u00A0/g,"&nbsp;")}else i+=u.replace(/\u00A0/g,"&nbsp;")}else i+=r(a[l]);return t.opts.fullPage||"BODY"!=e.tagName?t.node.openTagString(e)+i+t.node.closeTagString(e):i}function a(a){var i=[];a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(e){return i.push(e),"<!--[FROALA.EDITOR.SCRIPT "+(i.length-1)+"]-->"}),a=a.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-src="'),t.opts.fullPage||(a="<html><head></head><body>"+a+"</body></html>"),l=e('<iframe style="width:0; height:0; position: absolute; left: -2000px; display: none;">'),e("body").append(l),l.get(0).contentWindow.document.open(),l.get(0).contentWindow.document.write(a),l.get(0).contentWindow.document.close();var n;n=t.opts.fullPage?l.contents().find("html").get(0):l.get(0).contentDocument.getElementsByTagName("body")[0];var o=r(n);if(t.opts.fullPage){o=t.html.getDoctype(l.get(0).contentWindow.document)+o}return o=o.replace(/<!--\[FROALA\.EDITOR\.SCRIPT ([\d]*)]-->/gi,function(e,t){return i[parseInt(t,10)]}),o=o.replace(/<img((?:[\w\W]*?)) data-src="/g,'<img$1 src="'),l.remove(),o}function i(){t.opts.htmlSimpleAmpersand&&(t.opts.entities=t.opts.entities.replace("&amp;",""));var r=e("<div>").html(t.opts.entities).text(),i=t.opts.entities.split(";");o={},n="";for(var l=0;l<r.length;l++){var u=r.charAt(l);o[u]=i[l]+";",n+="\\"+u+(l<r.length-1?"|":"")}n=new RegExp("("+n+")","g"),t.events.on("html.get",a,!0)}var n,o,l;return{_init:i}}});